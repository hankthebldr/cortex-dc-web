# Self-Hosted Cortex DC Environment Configuration
# Copy this file to .env.self-hosted and update with your values

# ======================
# Deployment Mode
# ======================
DEPLOYMENT_MODE=self-hosted

# ======================
# PostgreSQL Configuration
# ======================
POSTGRES_USER=cortex
POSTGRES_PASSWORD=cortex_secure_password_change_me
POSTGRES_DB=cortex
DATABASE_URL=postgresql://cortex:cortex_secure_password_change_me@localhost:5432/cortex

# ======================
# Keycloak Configuration
# ======================
KEYCLOAK_URL=http://localhost:8180
KEYCLOAK_REALM=cortex
KEYCLOAK_CLIENT_ID=cortex-api
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret-here
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin_password_change_me
KEYCLOAK_DB_PASSWORD=cortex_secure_password_change_me

# ======================
# Storage Configuration (MinIO/S3)
# ======================
STORAGE_MODE=minio
MINIO_ENDPOINT=http://localhost:9000
MINIO_PORT=9000
MINIO_BUCKET=cortex-storage
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin_password_change_me
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin_password_change_me
# For frontend
NEXT_PUBLIC_STORAGE_MODE=minio
NEXT_PUBLIC_MINIO_ENDPOINT=http://localhost:9000
NEXT_PUBLIC_MINIO_BUCKET=cortex-storage

# ======================
# Redis Configuration
# ======================
REDIS_URL=redis://:redis_password_change_me@localhost:6379
REDIS_PASSWORD=redis_password_change_me

# ======================
# NATS Configuration
# ======================
NATS_URL=nats://localhost:4222

# ======================
# Application Configuration
# ======================
NODE_ENV=production
API_PORT=8080
API_URL=http://localhost:8080

# Frontend
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8180
NEXT_PUBLIC_KEYCLOAK_REALM=cortex
NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=cortex-web
NEXT_PUBLIC_DEPLOYMENT_MODE=self-hosted
NEXT_PUBLIC_USE_BACKEND_API=true

# ======================
# Feature Flags
# ======================
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_AI_FEATURES=true
NEXT_PUBLIC_ENABLE_POV_MANAGEMENT=true
NEXT_PUBLIC_ENABLE_TRR_WORKFLOWS=true
NEXT_PUBLIC_ENABLE_CONTENT_LIBRARY=true

# ======================
# Security
# ======================
JWT_SECRET=your-jwt-secret-minimum-32-characters-here
SESSION_SECRET=your-session-secret-minimum-32-characters-here

# ======================
# Logging & Monitoring
# ======================
LOG_LEVEL=info
SENTRY_DSN=

# ======================
# AI Configuration (Gemini)
# ======================
GEMINI_API_KEY=your-gemini-api-key-here
NEXT_PUBLIC_GEMINI_API_KEY=your-gemini-api-key-here
AI_MODEL=gemini-2.5-flash

# ======================
# Email (Optional)
# ======================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@cortex.example.com
